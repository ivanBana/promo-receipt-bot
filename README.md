# üßæ Promo Receipt Bot (Telegram)

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∞–∫—Ü–∏–π "–°—á–∞—Å—Ç–ª–∏–≤—ã–π —á–µ–∫".
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –ø—Ä–∏–µ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —á–µ–∫–æ–≤ –∏ –≤—ã–¥–∞—á—É –ø—Ä–∏–∑–æ–≤—ã—Ö –∫—É–ø–æ–Ω–æ–≤.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

* **–ê–Ω–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–æ—à–∞–≥–æ–≤—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (FSM): –§–æ—Ç–æ —á–µ–∫–∞ -> –§–ò–û -> –¢–µ–ª–µ—Ñ–æ–Ω -> Email.
* **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets:**
    * –í—Å–µ –∑–∞—è–≤–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–∞–±–ª–∏—Ü—É (–õ–∏—Å—Ç `Checks`).
    * –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: –±–æ—Ç "—Å–ª—É—à–∞–µ—Ç" –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ.
* **–°–∏—Å—Ç–µ–º–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏:**
    * –ê–¥–º–∏–Ω –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –≤ Google –¢–∞–±–ª–∏—Ü–µ (`new` -> `ok`).
    * –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫—É–ø–æ–Ω.
* **–í—ã–¥–∞—á–∞ –ø—Ä–∏–∑–æ–≤:**
    * –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—É–ø–æ–Ω–æ–≤ —Ñ–æ—Ä–º–∞—Ç–∞ `M7-{YEAR}-{ID}`.
    * –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **Python 3.10+**
* **Aiogram 3.x** (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
* **Google Sheets API v4** (–ß–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç)
* **Pandas** (–î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü—ã)

## ‚öôÔ∏è –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã (Bussiness Logic)

1.  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ —á–µ–∫–∞ (—Å—É–º–º–∞ –æ—Ç 5000 —Ä—É–±).
2.  –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `file_id` –∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
3.  –î–∞–Ω–Ω—ã–µ –≤—ã–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Google Sheets —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `new`.
4.  –§–æ–Ω–æ–≤—ã–π –≤–æ—Ä–∫–µ—Ä (Background Worker) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥.
5.  –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `ok` -> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–¥–∞–µ—Ç—Å—è –∫—É–ø–æ–Ω.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2.  –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞.
3.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
4.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `python bot.py`
