# üßæ Promo Receipt Bot (Telegram)

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∞–∫—Ü–∏–π "–°—á–∞—Å—Ç–ª–∏–≤—ã–π —á–µ–∫" —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä—É—á–Ω–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏.
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –ø—Ä–∏–µ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —á–µ–∫–æ–≤ –∏ –≤—ã–¥–∞—á—É –ø—Ä–∏–∑–æ–≤—ã—Ö –∫—É–ø–æ–Ω–æ–≤.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### üë§ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
* **–ê–Ω–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–æ—à–∞–≥–æ–≤—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (FSM): –§–æ—Ç–æ —á–µ–∫–∞ -> –§–ò–û -> –¢–µ–ª–µ—Ñ–æ–Ω -> Email.
* **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ–∫–∞.
* **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–∑–æ–≤:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–¥–∞—á–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫—É–ø–æ–Ω–∞ –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏.

### üõ° –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (Sudo Mode):
* **–ö–æ–º–∞–Ω–¥–∞ `/admin`:** –î–æ—Å—Ç—É–ø –∑–∞—â–∏—â–µ–Ω –ø–æ ID (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞).
* **Live-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
    * –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫.
    * –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–∫–æ–≤ –≤ –æ—á–µ—Ä–µ–¥–∏ (—Å—Ç–∞—Ç—É—Å `new`).
    * –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (—Å—Ç–∞—Ç—É—Å `ok`).
* **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å:** Inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º –ø—Ä—è–º–æ –∏–∑ —á–∞—Ç–∞.
* **–†—É—á–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–¥–æ–±—Ä—è—Ç—å –∑–∞—è–≤–∫–∏ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫ (—Å–∏–º—É–ª—è—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Google Sheets).

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **Python 3.10+**
* **Aiogram 3.x** (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫, —Ä–∞–±–æ—Ç–∞ —Å FSMContext)
* **–§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (Background Worker):** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ü–∏–∫–ª –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö/—Ç–∞–±–ª–∏—Ü—ã.
* **Google Sheets API v4** (–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ JSON-—Ç–æ–∫–µ–Ω).

## ‚öôÔ∏è –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1.  **–°–±–æ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ —á–µ–∫–∞ (—Å—É–º–º–∞ –æ—Ç 5000 —Ä—É–±). –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `file_id`.
2.  **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –ó–∞—è–≤–∫–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Å–∏—Å—Ç–µ–º—É —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `new`.
3.  **–ú–æ–¥–µ—Ä–∞—Ü–∏—è:**
    * –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É —á–µ—Ä–µ–∑ `/admin` –∏–ª–∏ –≤ Google –¢–∞–±–ª–∏—Ü–µ.
    * –ê–¥–º–∏–Ω –Ω–∞–∂–∏–º–∞–µ—Ç "–û–¥–æ–±—Ä–∏—Ç—å".
4.  **–í—ã–¥–∞—á–∞:** –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å (Worker) –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `ok` –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫—É–ø–æ–Ω —Ñ–æ—Ä–º–∞—Ç–∞ `M7-{YEAR}-{ID}`.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2.  –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞ –∏ `ADMIN_ID`.
3.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
4.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `python bot.py`
